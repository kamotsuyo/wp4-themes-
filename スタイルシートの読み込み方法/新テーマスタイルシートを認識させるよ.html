<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 7.1 (456448)"/><meta name="altitude" content="16.65057754516602"/><meta name="author" content="たぼさ"/><meta name="created" content="2018-05-10 06:58:40 +0000"/><meta name="latitude" content="34.62149760940768"/><meta name="longitude" content="135.5961908676345"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2018-05-10 12:53:49 +0000"/><title>新テーマスタイルシートを認識させるよ</title></head><body><div><br/></div><div>書籍のやりかたを復習してみよう。</div><div>/themes/easiest-wp/フォルダに配置した既定の[style.css]を適応させる方法として</div><div><br/></div><ol><li><div>functions.phpにadd_action()関数を使ってスタイルシートを読み込む方法。この方法はindex.phpにwp_head()関数を記述しておく必要があります。</div></li><li><div>テーマのindex.phpのhead部に<span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">get_template_part関数</span>を記述する方法。この方が簡単そうです。テーマsymplyfyでも使っている模様。</div></li></ol><div><br/></div><div><font style="font-size: 24px;">書籍のやりかた</font></div><div><br/></div><div>関数 add_action</div><div>参照:<a href="https://wpdocs.osdn.jp/%E9%96%A2%E6%95%B0%E3%83%AA%E3%83%95%E3%82%A1%E3%83%AC%E3%83%B3%E3%82%B9/add_action">codex</a></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">&lt;?php add_action( $hook, $function_to_add, $priority, $accepted_args ); ?&gt;</span></div></div><div><br/></div><div><br/></div><div><span style="font-size: 24px;">手順</span></div><div>functions.phpに記述</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">function style_link(){</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">    wp_enqueue_style('main-style',get_stylesheet_uri());</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">}</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">add_action('wp_enqueue_scripts','style_link');</span></div></div><div><br/></div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">index.phpにwp_head()関数が必要！！</span>ないと動作しないぞ。</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">&lt;!DOCTYPE html&gt;</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">&lt;html lang="ja"&gt;</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">&lt;meta charset="utf-8"&gt;</span></div><div><br style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">&lt;head&gt;</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">    &lt;?PHP wp_head(); ?&gt;</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">&lt;/head&gt;</span></div><div><br style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">&lt;body&gt;</span></div><div><br style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">    &lt;h1&gt;new-test&lt;/h1&gt;</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">&lt;/body&gt;</span></div><div><br style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);"/></div><div><br style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">&lt;/html&gt;</span></div></div><div><br/></div><div>結果は</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">&lt;link rel="stylesheet" id="main-style-css" href="</span><a href="http://wp4.localhost/wp-content/themes/new-test/style.css?ver=4.9.5" style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">http://wp4.localhost/wp-content/themes/new-test/style.css?ver=4.9.5</a><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">" type="text/css" media="all"&gt;</span></div></div><div>とリンクタグが生成されるよ。</div><div>id属性に関数で指定しておいた"文字列-css”が設定される。</div><div>ver=4.9.5とcssバージョンの記述も勝手につけるが必要か？</div><div><br/></div><div><hr/></div><div><br/></div><div><font style="font-size: 24px;">もう一つの方法</font></div><div>テーマのindex.phpのhead部に<span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">get_template_part関数</span>を記述します</div><div/><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">    &lt;?PHP //wp_head();?&gt;</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">    &lt;!-- テンプレートディレクトリのheader-insert.phpを読み込む --&gt;</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">    &lt;?PHP get_template_part('header','insert') ?&gt;</span></div></div><div>この方法ならwp_head関数は不要です、コメントアウトします。</div><div><br/></div><div>header-insert.phpという名でファイルを作成します、内容は</div><div/><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">&lt;?PHP $require_js = get_theme_file_uri() . '/js/require.js'; ?&gt;</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">&lt;?PHP $main_js=get_theme_file_uri() . '/js/main.js'; ?&gt;</span></div><div><br style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">&lt;script data-main="&lt;?PHP echo $main_js ?&gt;" src="&lt;?PHP echo $require_js?&gt;"&gt;&lt;/script&gt;</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">&lt;!--スタイルシート--&gt;</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51); background-color: rgb(255, 250, 165);-evernote-highlight:true;">&lt;link rel="stylesheet" id="default" href="&lt;?PHP echo(get_stylesheet_uri()); ?&gt;" media="all"&gt;</span></div><div><br style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);"/></div></div><div><br/></div><div>これでOK　==&gt;このやり方でも、記事一覧とかも表示されています。wp_head関数を取っ払ってもここまでは問題なさそうです。</div><div><br/></div><div><img src="%E6%96%B0%E3%83%86%E3%83%BC%E3%83%9E%E3%82%B9%E3%82%BF%E3%82%A4%E3%83%AB%E3%82%B7%E3%83%BC%E3%83%88%E3%82%92%E8%AA%8D%E8%AD%98%E3%81%95%E3%81%9B%E3%82%8B%E3%82%88.resources/2D763A83-527F-4959-8631-5957A8EF3AA1.png" height="818" width="1338"/></div><div><br/></div></body></html>